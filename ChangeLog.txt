== v4.1.357 ALPHA ==

<<color red>>** IMPORTANT: ** This version of Masque is an **alpha** and is for testing purposes only. Testers may post bug reports via the  [[http://www.wowace.com/addons/masque/tickets|ticket system]].<</color>>

=== General ===

* ButtonFacade has been renamed to **Masque** and has been partially rewritten. It is backwards-compatible with ButtonFacade-enabled add-ons and includes a (temporary)  ButtonFacade add-on that will pre-load Masque for those add-ons still using the old API. It will also attempt to import an add-on's skin settings the first time an add-on registers itself with Masque if it's still using the ButtonFacade API.
* Masque's options are now load-on-demand. An option is available to pre-load them but this option is disabled by default.
* Masque's slash commands are **/msq** and **/masque**.
* Masque now supports [[http://www.wowace.com/addons/libdualspec-1-0/|LibDualSpec-1.0]].
* Masque's API no longer uses LibStub or LibButtonFacade. Instead, a global interface, **LibMasque**, will provide access to the desired API. Currently, only the **Button** API is available. To access it, simply pass the string name of the API to the interface. More information can be found in the [[http://www.wowace.com/addons/masque/pages|documentation]].
* The current API version can be accessed via the **LibMasque.Version** key. (Currently 40100)
* Masque includes a debug mode. When enabled, Masque will throw Lua errors when it encounters API or skin errors. This feature can be toggled via the options window or by passing the **debug** parameter to the slash commands.

=== Button API ===

* Add-ons no longer need to save skin settings. This is now handled by Masque.
* Add-ons and their groups can now be disabled. Any group (including the Global group) that is disabled will also disable its child groups.
* To prevent excessive overhead, a button's layers (ButtonData) are no longer parsed when the button is skinned but rather when the button is added to a group.
* The following methods are available to the Button API and function as they previously did:
** :Group('Addon' [, 'Group'])
** :AddSkin('SkinID', {SkinData} [, Replace])
** :AddSpellAlert('Shape', 'Glow', 'Ants') - NEW - Adds a spell alert texture set for the specified shape.
** :GetNormalTexture({Button})
** :GetBackdropLayer({Button})
** :GetGlossLayer({Button})
** All other methods have been deprecated and are in a temporary state until add-on authors update to the new API.
** For more information on the Button API, please see the [[http://www.wowace.com/addons/masque/pages|documentation]].
* The following methods are available to the Button Group API and function as they previously did:
** :AddButton({Button} [, {ButtonData})
** :RemoveButton({Button})
** :Delete()
** :ReSkin()
** :GetLayer({Button}, 'Layer') - NEW - Returns the specified layer for the button passed.
** :GetLayerColor('Layer')
** All other methods have been either deprecated or are intended for internal use only.
** For more information on Button Groups, please see the [[http://www.wowace.com/addons/masque/pages|documentation]].

=== Button Skins ===

* Skins can now use a random texture for the **Normal** layer. 
* Added the **Duration** text layer for buff/debuff buttons.
* Skin elements no longer support a **Scale** attribute. Use **Width** and **Height**.
* The **Icon** layer no longer supports a **BlendMode** attribute.
* Skins can no longer hide text layers.
* Text layers now accept the **JustifyH** and **JustifyV** attributes.
* The **LBF_Version** entry has been replaced with **Masque_Version**. (Currently 40100)
* Skins now support a **Shape** parameter that will allow the spell alert animation to fit the button style. Masque includes a **Circle** texture set and includes a method to add new spell alert textures.
* Skins now support the **Version** and **Author** keys. A future version of Masque //may// include a panel to display skin information.
* Skins no longer have to specify the **Normal** layer as being **Static**. Instead, this is now the default behavior. If a skin author wants to use the built-in state changes, they can force this by explicitly setting the **Static** attribute to **false**.
* Skins can now use the **EmptyTexture** and **EmptyCoords** attributes for the **Normal** layer even if not using the default state changes.
* For more information on Button Skins, please see the [[http://www.wowace.com/addons/masque/pages|documentation]].

=== Known Issues ===

* A lot of add-ons and skins will need to be updated. Be patient.

\\

[[http://www.wowace.com/addons/masque|Project Page]]