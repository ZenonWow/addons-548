https://eu.battle.net/forums/en/wow/topic/11761047149#post-4
--
/run local f=CreateFrame("button","mlook")f:RegisterForClicks("AnyDown","AnyUp")f:SetScript("OnClick",function(s,b,d)if d then MouselookStart()else MouselookStop()end end)SecureStateDriverManager:RegisterEvent("UPDATE_MOUSEOVER_UNIT")
/run local f=CreateFrame("frame",nil,nil,"SecureHandlerStateTemplate")RegisterStateDriver(f,"mov","[@mouseover,exists]1;0")f:SetAttribute("_onstate-mov","if newstate==1 then self:SetBindingClick(1,'BUTTON2','mlook')else self:ClearBindings()end")




https://eu.battle.net/forums/en/wow/topic/11761047149#post-10
--
There is an addon called SuppressRightClick which makes the default right click action available on double right click instead of blocking it completely:
http://mods.curse.com/addons/wow/src
However, I did not like the behavior of this addon (in particular, it blocks right clicks only in combat, and therefore does not protect from accidental pulls), so I made a custom modification of that addon which always blocks single right clicks:
local DoubleClickDuration = 0.3;
local LastRightClick = 0;
WorldFrame:HookScript("OnMouseUp", function(self, button)
	if (not (MouselookHandler and MouselookHandler.shouldMouselook) and
			button == "RightButton" and
			LastRightClick + DoubleClickDuration < GetTime()) then
		LastRightClick = GetTime();
		MouselookStop();
	end
end);

This code is also compatible with the MouselookHandler addon:
http://mods.curse.com/addons/wow/mouselookhandler
